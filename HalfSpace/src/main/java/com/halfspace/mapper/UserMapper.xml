<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http:/mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.halfspace.mapper.UserMapper">

	<resultMap type="com.halfspace.domain.UserVO" id="UserMap">
		 <id property="userId" column="userid"/>
		 <result property="userId" column="userid"/>
		 <result property="userPw" column="userpw"/>
		 <result property="userName" column="username"/>
		 <result property="gender" column="gender"/>
		 <result property="birthDate" column="birthdate"/>
		 <result property="email" column="email"/>
		 <result property="phoneNum" column="phone_num"/>
		 <result property="address" column="address"/>
		 <collection property="authList" resultMap="authMap">
		 </collection>
	</resultMap>

	<resultMap type="com.halfspace.domain.AuthVO" id="authMap">
		<result property="userId" column="userid"/>
		<result property="auth" column="auth"/>
	</resultMap>		
	
	<select id="read" resultMap="UserMap">
		SELECT
			u.userid, userpw, username, gender, birthdate, email, phone_num, address, a.auth
				FROM
			user_tbl u LEFT OUTER JOIN user_auth a on u.userid = a.userid
				WHERE
			u.userid = #{userId}
	</select>
	
		
</mapper>



